# ============================================
# LifeBox IoT Platform - Production Configuration
# ============================================
# READY FOR VPS DEPLOYMENT: 72.60.34.28
# ============================================

# =============================================================================
# üåê VPS & DOMAIN CONFIGURATION
# =============================================================================

VPS_PUBLIC_IP=72.60.34.28
DOMAIN=lifebox-iot.com

# =============================================================================
# üóÑÔ∏è PRODUCTION DATABASE CONFIGURATION
# =============================================================================

DATABASE_URL="postgresql://lifebox_prod:LifeBox2024ProductionDB#Strong@localhost:5432/lifebox_production?schema=public"
DB_USERNAME=lifebox_prod
DB_PASSWORD=LifeBox2024ProductionDB#Strong
DB_DATABASE=lifebox_production

# =============================================================================
# üîê SECURITY CONFIGURATION - PRODUCTION
# =============================================================================

JWT_SECRET="LifeBox2024JWT#SecretKey#Production#256Bits#Random#Strong"
JWT_EXPIRATION="24h"
JWT_REFRESH_SECRET="LifeBox2024RefreshJWT#SecretKey#Production#256Bits#Random"
JWT_REFRESH_EXPIRATION="7d"

SESSION_SECRET="LifeBox2024Session#SecretKey#Production#256Bits#Random#Strong"

API_ADMIN_TOKEN="LifeBox2024AdminAPI#Token#Production#Strong#Random"
MQTT_API_TOKEN="LifeBox2024MQTT#Token#Production#Strong#Random"

WEBHOOK_SECRET="LifeBox2024Webhook#Secret#Production#Strong#Random"
INTEGRATION_API_KEY="LifeBox2024Integration#Key#Production#Strong#Random"

# =============================================================================
# üèóÔ∏è APPLICATION CONFIGURATION
# =============================================================================

NODE_ENV=production
PORT=3000
API_PORT=3000
API_PREFIX="api/v1"

FRONTEND_URL=https://lifebox-iot.com
NEXT_PUBLIC_API_URL="https://lifebox-iot.com/api/v1"
NEXT_PUBLIC_WS_URL="wss://lifebox-iot.com"

# =============================================================================
# üì° MQTT BROKER CONFIGURATION - PRODUCTION
# =============================================================================

MQTT_BROKER_HOST=emqx
MQTT_BROKER_PORT=1883
MQTT_USERNAME=lifebox_mqtt_prod
MQTT_PASSWORD=LifeBoxMQTT2024Production#Strong
MQTT_CLIENT_ID=lifebox-production

EMQX_DASHBOARD_USER=admin
EMQX_DASHBOARD_PASSWORD=LifeBoxEMQX2024Production#Strong

MQTT_TELEMETRY_TOPIC="lifebox/devices/+/telemetry"
MQTT_STATUS_TOPIC="lifebox/devices/+/status"
MQTT_COMMAND_TOPIC="lifebox/devices/+/commands"
MQTT_ALARM_TOPIC="lifebox/devices/+/alarms"

CONCURRENT_PROCESSING=10
API_TIMEOUT=30000

# =============================================================================
# üí≥ FAWRY PAYMENT GATEWAY - PRODUCTION
# =============================================================================

FAWRY_BASE_URL="https://atfawry.fawrystaging.com"
FAWRY_MERCHANT_CODE="1030"
FAWRY_SECURITY_KEY="LifeBoxFawry2024#ProductionKey"
FAWRY_BILL_TYPE_CODE="LIFEBOX_CREDIT"
FAWRY_SKIP_SIGNATURE_VALIDATION=false
FAWRY_WEBHOOK_URL="https://lifebox-iot.com/api/v1/fawry/webhook"
FAWRY_PAYMENT_EXPIRY_HOURS=48
FAWRY_TIMEOUT=30000
FAWRY_RETRIES=3

CREDIT_WARNING_THRESHOLD=100
CREDIT_CRITICAL_THRESHOLD=50
CREDIT_MONITORING_INTERVAL=5

# =============================================================================
# üì± SMS CONFIGURATION - PRODUCTION
# =============================================================================

SMS_DEPLOYMENT_REGION=egypt
SMS_FALLBACK_ENABLED=true
SMS_DOMESTIC_PROVIDER=vodafone
SMS_INTERNATIONAL_PROVIDER=twilio

# Vodafone SMS Egypt Production
VODAFONE_SMS_USERNAME=lifebox_egypt
VODAFONE_SMS_PASSWORD=LifeBoxVodafone2024#Egypt
VODAFONE_SMS_CUSTOMER_ID=12345
VODAFONE_SMS_SENDER_ADDRESS=LIFEBOX
VODAFONE_SMS_BASE_URL=https://api.messaging.vodafone.com
VODAFONE_SMS_NOTIFY_URL=https://lifebox-iot.com/api/v1/notifications/vodafone/callback

# Twilio SMS International
TWILIO_ACCOUNT_SID=AClifebox2024production123456789
TWILIO_AUTH_TOKEN=lifebox_twilio_2024_production_token
TWILIO_PHONE_NUMBER=+12345678901

# =============================================================================
# üìß EMAIL CONFIGURATION - PRODUCTION
# =============================================================================

SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER="notifications@lifebox-iot.com"
SMTP_PASS="LifeBoxEmail2024#AppPassword"
SMTP_FROM="LifeBox System <noreply@lifebox-iot.com>"
EMAIL_FROM="noreply@lifebox-iot.com"

# =============================================================================
# üìÅ FILE STORAGE & PATHS - PRODUCTION
# =============================================================================

REPORTS_PATH="/app/data/reports"
UPLOADS_PATH="/app/data/uploads"
TEMP_PATH="/app/data/temp"
MAX_FILE_SIZE=52428800
UPLOAD_DIR="/app/uploads"
REPORT_TEMPLATE_PATH="/app/templates/reports"
REPORT_OUTPUT_PATH="/app/data/generated-reports"
UPLOAD_ALLOWED_TYPES="jpg,jpeg,png,pdf,doc,docx,txt,csv"
UPLOAD_MAX_FILES=10

# =============================================================================
# üîß PRODUCTION OPTIMIZATIONS
# =============================================================================

LOG_LEVEL="info"
SENTRY_DSN="https://lifebox2024@sentry.io/project-id"

RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

DATABASE_POOL_SIZE=10
DATABASE_MAX_CONNECTIONS=50
DATABASE_CONNECTION_TIMEOUT=10000
DATABASE_LOGGING=false
DATABASE_SLOW_QUERY_THRESHOLD=2000

MQTT_RECONNECT_PERIOD=5000
MQTT_KEEP_ALIVE=60
MQTT_CLEAN_SESSION=true
MQTT_DEBUG=false
MQTT_LOG_PACKETS=false

REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD="LifeBoxRedis2024#Production"

# =============================================================================
# üîî NOTIFICATION SETTINGS - PRODUCTION
# =============================================================================

ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_AUTO_DEVICE_SHUTDOWN=true
ENABLE_AUTO_DEVICE_REACTIVATION=true
ENABLE_PAYMENT_RECONCILIATION=true

ALARM_EMAIL_ENABLED=true
ALARM_SMS_ENABLED=true
ALARM_COOLDOWN_MINUTES=5

NOTIFICATION_QUEUE_SIZE=10000
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=5000

EMAIL_PREVIEW=false
EMAIL_SEND_REAL=true

SMS_MOCK_MODE=false
SMS_LOG_MESSAGES=true

# =============================================================================
# üåê TIMEZONE & LOCALIZATION
# =============================================================================

TZ="Africa/Cairo"

# =============================================================================
# üìä MONITORING & HEALTH CHECKS - PRODUCTION
# =============================================================================

HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_MQTT=true
HEALTH_CHECK_REDIS=true

ENABLE_COMPRESSION=true
ENABLE_CORS=false
CORS_ORIGIN="https://lifebox-iot.com"

WS_HEARTBEAT_INTERVAL=30000
WS_CONNECTION_TIMEOUT=60000

REPORT_GENERATION_TIMEOUT=60000
REPORT_MAX_CONCURRENT=5

CRON_CLEANUP_ENABLED=true
CRON_CLEANUP_SCHEDULE="0 2 * * *"
CRON_BACKUP_ENABLED=true

ENABLE_SWAGGER=false
ENABLE_DEBUG_ROUTES=false
ENABLE_ADMIN_PANEL=false

SYSTEM_USER_EMAIL="system@lifebox-iot.com"
SYSTEM_USER_ID="system"

# =============================================================================
# üè¢ CLIENT INTEGRATION SETTINGS - PRODUCTION
# =============================================================================

COMPANY_MQTT_HOST=lifebox-iot.com
COMPANY_MQTT_PORT=1883
COMPANY_MQTT_TLS=true
COMPANY_MQTT_CERT_VALIDATION=true

COMPANY_API_BASE=https://lifebox-iot.com/api/v1
COMPANY_WEBSOCKET_URL=wss://lifebox-iot.com

DEVICE_REGISTRATION_ENDPOINT=https://lifebox-iot.com/api/v1/devices
TELEMETRY_HTTP_ENDPOINT=https://lifebox-iot.com/api/v1/devices/{deviceId}/telemetry